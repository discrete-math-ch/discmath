import { Callout, Tabs} from 'nextra/components'
import Problem from '@/components/problem'
import Image from 'next/image'

import { Steps } from 'nextra/components'

import { Cards } from 'nextra/components'

# Countability

Countability is a fundamental concept in set theory and mathematics that deals with the size and nature of sets. The idea that there are different kinds of *infinities* can be quite counterintuitive at first. However, understanding these distinctions is crucial. It helpor uns us determine whether a set is finite, countably infinite, countably infinite, providing insight into concepts like **discrete** and **continuous** (after all this course is called **discrete** mathematics). This understanding significantly influences how we can classify and think about different problems, particularly in computer science.

This chapter is one where you can truly get creative with proofs, and sometimes you have to. That's what makes proofs so rewarding â€” sometimes it's just about finding that neat idea. It requires a lot of practice to build up intuition and ideas that you can adapt to different cases. But this is what makes it so enjoyable - really trust us :). Every problem is more or less unique. That's what makes proofs really rewarding - sometimes it just this neat idea. Oftentime people think this makes this chapter harder, because afterall there is no recipe to approach every problem. It just a lot of practice which builds up some intuition and idea you might be able to use and alter in different cases. But this really makes is super fun. Because every problem is really different. Not like in the basics of set theory, where proofs always went by showing double-sided inclusion.

 <Cards>
  <Cards.Card
    title="Theory"
    href="/content/ch3/countability#theory"
  />
  <Cards.Card
    title="Exercises"
    href="/content/ch3/countability#exercises"
  />
</Cards>

<Callout type="axiom">
**Definition 3.42**: 
1. Two sets $A$ and $B$ are **equinumerous**, denoted $A \sim B$, if there exists a bijection $A \to B$.
2. The set $B$ **dominates** the set $A$, denotes $A \preccurlyeq B$, if $A \sim C$ for some subset $C \subseteq B$ or, equivalently if there exists an injective function $A \to B$.
3. A set $A$ is called **countable** if $f : A \preccurlyeq \mathbb{N}$, and **uncountable** otherwise.

</Callout>

The central aspect of this chapter is to decide whether a given set $A$ is countable or uncountable. More precisly you need to find an injection/bijection $\mathbb{N} \to A$ or find some other way to show that there is none.

## Theory

The proofs for the following theorems can be found in the script and won't be recited here.

<Callout type="-">
**Lemma 3.15**: 
1. The relation $\sim$ is an equivalence relation.
2. The relation $\preccurlyeq$ is transitive: $A \preccurlyeq B \land B \preccurlyeq C \Rightarrow A \preccurlyeq C$.
3. $A \subseteq B \Rightarrow A \preccurlyeq B$.
</Callout>

The first point provides us with major intuition about countability. And the proof follows quite immediate from composing two bijections and obtaining a new one. This is a central idea. These properties can be combined with *proof-patterns* to prove uncountability or countability.



<Callout type="-">
**Theorem 3.16**: 
If $A \preccurlyeq B$ and $B \preccurlyeq A$, then $A \sim B$.
</Callout>
This is a rather *extra theorem*. Though, it's sort of intuivive. It somehow captures a notion of antisymmetry (however not in the sense that $A = B$, but only $A \sim B$). It will probably be rarely or might be never be the case in this course that it is easier to show that these two injections exist than that a bijection $A \to B$ exists. 

<Callout type="-">
**Theorem 3.17**: 
A set $A$ is countable if and only if it is finite or if $A \sim \mathbb{N}$. This implies there is no cardinality level between finite and countably infinite sets.
</Callout>

### Important Countable Sets

<Callout type="-">
**Theorem 3.18**: 
The set $\{0, 1\}^*$, defined as $\{\epsilon, 0, 1, 00, 01, 10, 11, 000, 001, \ldots\}$ of finite binary sequences, is countable.
</Callout>
This is a goto set to prove countability. Finding an injection to $\{0,1\}^*$ is often the base of a proof and combining this with Lemma **3.15** (Transitivity), we quickly obtain countability.



<Callout type="-">
**Theorem 3.19**: 
The set $\mathbb{N} \times \mathbb{N}$ of ordered pairs of natural numbers is countable.

</Callout>

<Callout type="-">
**Corollary 3.20**: 
The Cartesian product $A \times B$ of two countable sets $A$ and $B$ is countable, i.e., $A \preccurlyeq \mathbb{N} \land B \preccurlyeq \mathbb{N} \Rightarrow A \times B \preccurlyeq \mathbb{N}$.
</Callout>



<Callout type="-">
**Corollary 3.21**: 
The set of rational numbers $\mathbb{Q}$ is countable.
</Callout>



<Callout type="-">
**Theorem 3.22**: 
Let $A$ and $A_i$ for $i \in \mathbb{N}$ be countable sets.
1. For any $n \in \mathbb{N}$, the set $A^n$ of $n$-tuples over $A$ is countable.
2. The union $\bigcup_{i \in \mathbb{N}} A_i$ of a countable list $A_0, A_1, A_2, \ldots$ of countable sets is countable.
3. The set $A^*$ of finite sequences of elements from $A$ is countable.
</Callout>

This is another very central theorem and in the case of certain involved set operations, should be considered as a starting point for proving that some complicated set is countable.

<Callout type="-">
**Definition 3.43**: 
Let $\{0, 1\}^\infty$ denote the set of semi-infinite binary sequences or, equivalently, the set of functions $\mathbb{N} \to \{0, 1\}$.
</Callout>
Just in case you are wondering: Why are they called semi-infinite? This is because they go infinite in *one-direction*. 
This is often super useful. We can think about functions as infinite 

<Callout type="warning">
There is a major difference between the set of semi-infinite bitstrings $\{0,1\}^{\infty}$ and $\{0,1\}^*$. 

The set $\{0,1\}^*$ represents all **finite** sequences (or strings) of bits, including the empty string. Each string in $\{0,1\}^*$ has a **finite** length, and the set is countably infinite because we can list all possible finite bitstrings in a sequence.

On the other hand, the set of semi-infinite bitstrings consists of all sequences of bits that extend **infinitely** in one direction. Each bitstring in this set has an infinite length, and the set is uncountably infinite.

For example we have $0 \in \{0,1\}^*$ but $0 \notin \{0,1\}^{\infty}$. But $000\dots \in \{0,1\}^{\infty}$ (the semi-infinite string of $0$'s).
</Callout> 


<Callout type="-">
**Theorem 3.23**: 
The set $\{0, 1\}^\infty$ is uncountable.

</Callout>

This theorem is central and a thought about the uncountability of $\{0,1\}^{\infty}$ should be a possible starting point for any uncountability proof. 

### Computability
<Callout type="-">
**Definition 3.44**: 
A function $f : \mathbb{N} \to \{0,1\}$ is called computable if there is a program that, for every $n\in \mathbb{N}$, when given $n$ as input, outputs $f(n)$.
</Callout>

<Callout type="-">
**Corollary 3.24**: There are **uncomputable function** $\mathbb{N} \to \{0,1\}$
</Callout>


### How to approach problems?
 
#### Countable or Uncountable
 
Determine whether the set you have is countable or uncountable. This requires to first really understand what's going on in your set. Think about samller examples and similarities to known sets (often finding these similarties will directly lead you to the injection, which you have to find anyway).

### Uncountablility Proofs

You can only start once you more or less understand what's going on in your set.

The following pattern is a common pattern and surely cannot be used in **every** case. However, oftentimes when having an uncountable set, you can find an injection from the set $\{0,1\}^{\infty}$, which is known to be uncountable. You could of course also use something like $\mathbb{R}$ or $[0,1]$, which might be easier sometimes. Also the order below is not fixed and the proofs can look way different than the form below and still be correct. The purpose of these steps below is more to give you a structure of how one **could** approach problems involving proofs of uncountability.


Let $A$ be the set you want to prove to be uncountable.


#### 1. Finding the injection
The first and probably most difficult step is to **find** an injection:

$$
f: \{0,1\}^{\infty} \to A
$$

The intuition here is that you somehow have to encode all the information of a bitstring $b$ in its image $f(b)$. We want to sort of be able to reconstruct $b$ from $f(b)$ uniquely. More formally this is exactly the definition of an injection. Namely, for arbitrary $b, b' \in \{0,1\}^{\infty}$ we want to have:

$$
b \neq b' \implies f(b) \neq f(b')
$$

This is just the definition of injectivity. You have to carefully think about this when choosing $f$, to then later prove that it is indeed the case. 
In this first step the most important thing is, that you really precisely write down the definition of your function $f$ and how it maps the bitstring to elements of $A$. 

#### 2. Proving that your function is a function

Now that you thought about your function it should be clear to you that you have constructed something that is indeed a function. However you still have to prove or at least write some justification why the following properties are fulfilled, because this is not obvious in many cases:

1. *Does your function actually map to elements from $A$ and not something else?* You defined your function to be a map from $\{0,1\}^{\infty}$ however, is it actually the case that for each $b\in \{0,1\}^{\infty}$, $f(b) \in A$?

2. *Is your function actually a function?* Argue why it is *well-defined* and *totally-defined* (definition of a function).


This step can in some cases already be quite demanding, in other cases it can also be quite short.

#### 3. Proving injectivity

This is more or less the central part of your proof. Here you have to actually show that what you defined actually is injective. To do this, the definition of injectivity is basically everything we have to show. Two common ways are:

1. *Let $b, b' \in \{0,1\}^{\infty}$ be arbitrary such that $b \neq b'$. Then we have*
$$
\begin{aligned}
b \neq b' &\overset{\cdot}{\implies} \dots \\
&\overset{\cdot}{\implies} \dots \\
&\overset{\cdot}{\implies} f(b) \neq f(b')
\end{aligned}
$$
*Therefore, $f$ is injective*.<br/>
As you can see, this is just the direct method of proving that $f$ fulfills the definition.

2. *Let $b, b' \in \{0,1\}^{\infty}$ be arbitrary such that $f(b) = f(b')$. Then we have*
$$
\begin{aligned}
f(b) = f(b') &\overset{\cdot}{\implies} \dots \\
&\overset{\cdot}{\implies} \dots \\
&\overset{\cdot}{\implies} b=b' 
\end{aligned}
$$
*Therefore, we have proven indirectly that $f$ is injective*. <br/>
As you can see, this is just the contraposition of the definition the injectivity of $f$ (see proof pattern of indirect proof).

---

The difficulty in this step is to provide precise and detailled justifications.

#### 4. Punchline

Now we can actually apply **definition 3.42** to obtain $\{0,1\}^{\infty} \preceq A$. However, it is not immediate how this implies that $A$ is uncountable, as we need to show that **not** $A \preceq \mathbb{N}$. There are multiple short ways how one could argue about this. An easy way is to assume that $A$ is countable ($A \preceq \mathbb{N}$) and that $\{0,1\}^{\infty} \preceq A$. Then we obtain with **Lemma 3.15** (Transitivity) that $\{0,1\}^{\infty} \preceq \mathbb{N}$, which is false as proven in lecture via Cantor's diagonalization argument. Therefore, $A$ must be uncountable. 


---

See the exercise "This seems odd" for an application of this *pattern*.

## Exercises
<Problem title="Points in the Plane" difficulty={1} relevance={3} source="Tobias Steinbrecher">
  <div label="question">
    Prove that the set of all points in the plane with rational coordinates is countable.
  </div>
  <div label="hint">
    Use the fact that the set of rational numbers $\mathbb{Q}$ is countable, and consider the Cartesian product $\mathbb{Q} \times \mathbb{Q}$.
  </div>
  <div label="answer">
    The set of all points in the plane with rational coordinates can be represented as $\mathbb{Q} \times \mathbb{Q}$.
    Since $\mathbb{Q}$ is countable and the Cartesian product of two countable sets is also countable (**by Theorem 3.22**), $\mathbb{Q} \times \mathbb{Q}$ is countable.
    Therefore, the set of all points in the plane with rational coordinates is countable.
  </div>
</Problem>


<Problem title="This seems odd" difficulty={2} relevance={4} source="Tobias Steinbrecher">
  <div label="question">
    Prove or disprove that the following set is uncountable
  $$
    A = \{f \in \{0,1\}^{\mathbb{N}} \mid f(k) = 0 \text{ if $k \equiv_2 0$ }\}
  $$
  </div>
  <div label="answer">
  We will prove that this set is uncountable by finding an injection from $\{0,1\}^{\infty}$

  1.  Consider the following function:

  $$
  f : \{0,1\}^{\infty} \to A \qquad b \mapsto g
  $$
  such that 
  $$
  g(k) = \begin{cases} 0 & \text{if $k \equiv_2 0$}\\ b_{\lfloor k/2 \rfloor} & \text{if $k \equiv_2 1$}
\end{cases}
  $$
  where $b_i$ denotes the $i$-th bit of the bitstring $b$ (with $i \in \mathbb{N}$).

  2. We will prove that this is indeed a function. Let $b \in \{0,1\}^{\infty}$ be arbitrary. For $f(b)$, we obtain that $f(b) \in A$, as for all $k \in \mathbb{N}$ we have $f(k) = 0$ by construction. The function is well-defined and totally-defined, as we map every bitstring $b \in \{0,1\}^{\infty}$ to at most one function $g \in A$.

  3. Now we want to prove injectivity. Let $b, b' \in \{0,1\}^{\infty}$ be two bitstrings such that $b \neq b'$. Then we obtain that $b$ and $b'$ must differ in at least one position $b_j \neq b_j'$ (for some $j \in \mathbb{N}$). Because by construction of $f$, we obtain $f(b)(2 \cdot j + 1) = b_{j}$ and $f(b')(2 \cdot j + 1) = b'_{j}$, we have $f(b) \neq f(b')$ as these function differ for the value $2 \cdot j + 1$ (more formally $(2j + 1, b_j) \in f(b)$ and $(2j + 1, b'j) \in f(b')$).
  
  4. Thus, we have $\{0,1\}^{\infty} \preceq A$. Now assume for a contradiction that $A$ is countable, i.e. $A \preceq \mathbb{N}$. By transitivity, we therefore have $\{0,1\}^{\infty} \preceq \mathbb{N}$ which implies that $\{0,1\}^{\infty}$ is countable. This is a contradiction, as $\{0,1\}^{\infty}$ is known to be uncountable (by diagonalization argument).
  Thus, $A$ must be uncountable, which is what we wanted to prove.  


  </div>
</Problem>
